## 주제

애플리케이션이 '어떻게 동작하는지', '왜 이렇게 구성되는지'에 대한 개발 배경지식



## 내용



서버 간 통신

- 한 서버가 다른 서버에 통신을 요청하는 것
- 작게 나뉘어진 서버 간의 통신 기능 (로그인 서버와 메일 서버 등)
- 여러 프로토콜 적용 가능 (HTTP/HTTPS)



스프링 부트의 동작 방식

- spring-boot-starter-web 모듈을 사용하면, 톰캣(Tomcat)을 사용하는 스프링 MVC 구조를 기반으로 동작
- 자바에서의 서블릿(Servlet) : 클라이언트의 요청을 처리하고 결과를 반환하는 자바 웹 프로그래밍 기술
- 스프링에서는 DispatcherServlet이 서블릿의 역할 수행
- 과정
  1. DispatcherServlet으로 HTTP 요청 들어오면, DispatcherServlet은 핸들러 매핑을 통해 여청 URI에 매핑된 핸들러(컨테이너) 탐색
  2. 핸들러 어댑터로 컨트롤러 호출
  3. 핸들러 어댑터에 컨트롤러의 응답이 돌아오면, ModelAndView로 응답을 가공해 반환
  4. 뷰 형식으로 리턴하는 컨트롤러를 사용할 때는 View Resolver를 통해 View를 받아 리턴



레이어드 아키텍처

- app의 컴포넌트를 유사 관심사 기준으로 레이러로 묶어, 수평적으로 구성한 구조
- 일반적으로 프레젠테이션 계층, 비즈니스 계층, 데이터 접근 계층 + 인프라 계층 총 3~4계층
- 프레젠테이션 계층
  - 최상단 계층. 클라이언트의 요청 해석, 응답
  - UI or API 제공
- 비즈니스 계층
  - app이 제공하는 기능 정의, 업무 위임
- 데이터 접근 계층
  - DB에 접근하는 작업 수행
- 특징
  - 각 레이어는 가장 가까운 하위 레이어의 의존성을 주입받음
  - 각 레이어는 관심사에 따라 묶이며, 다른 레이어를 침범하지 않음
  - 각 레이어가 독립적으로 작성되면, 다른 레이어와의 의존성을 낮춰 단위 테스트에 용이



디자인 패턴

- 설계 시 자주 발생하는 문제들을 해결하기 위해 고안된 해결책
- 종류 (GoF 디자인 패턴)
  - 생성 패턴
    - 추상 팩토리 
      - 구체적인 클래스를 지정하지 않고, 상황에 맞는 객체를 생성하기 위한 인터페이스를 제공하는 패턴
    - 빌더
      - 객체의 생성과 표현을 분리해 객체를 생성하는 패턴
    - ... (너무 많음)
  - 구조 패턴
  - 행위 패턴



REST API

- app 인터페이스. 이를 통해 클라이언트가 서버에 접근 가능
- REST
  - Representational State Transfer.
  - Resource에 이름을 규정하고 URI에 명시해, HTTP 메서드 (GET, POST) 를 통해 해당 자원의 상태를 주고받는 것
- REST API
  - api : app에서 제공하는 인터페이스. 이를 통해 프로그램 사이를 연결
  - rest api란, rest 아키텍처를 따르는 시스템/app 인터페이스
  - REST 아키텍처를 구현하는 웹 서비스를 'RESTful하다'라고 함
- 특징
  - 유니폼 인터페이스
    - 일관된 인터페이스. HTTP 표준 규약을 따르므로, 언어에 상관없이 호환 가능
  - 무상태성
    - 서버에 상태 정보를 따로 보관하거나 관리하지 않음
    - 서버는 클라이언트의 요청을 세션 or 쿠키로 받아 처리. 이를 서버에 저장하지는 않음
  - 캐시 가능성
    - HTTP의 캐싱 기능을 적용 가능.
    - 캐싱이 가능한 경우, 클라이언트에서 캐시에 저장해두고 사용
  - 레이어 시스템
    - REST 서버는 네트워크 상의 여러 계층으로 구성될 수 있음. 클라이언트는 서버와 연결되는 포인트만 알면 됨
  - 클라이언트-서버 아키텍처
    - (클라이언트 : 사용자 정보 관리, REST 서버 : API 제공) 구조로 분리해 설계
- REST 설계 규칙
  - URL 마지막은 `/` 사용 x
  - `_` 사용 x
  - url에는 행위(동사)가 아닌 결과(명사)를 포함시키기
    - `localkhost.com/delete-product/123` 등으로 사용하지 않기 (행위는 HTTP 메서드로 표현)
  - url은 소문자로 작성
  - 파일의 확장자는 URL에 포함 x

